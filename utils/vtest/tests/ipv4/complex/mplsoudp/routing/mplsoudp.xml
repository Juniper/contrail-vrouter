<?xml version="1.0"?>
<test>
    <test_name>MPLSoUDP - Routing L2RCV nh</test_name>
    <message>
        <vr_interface_req>
            <h_op>Add</h_op>
            <vifr_type>3</vifr_type>
            <vifr_idx>1</vifr_idx>
            <vifr_name>1</vifr_name>
            <vifr_transport>2</vifr_transport>
            <vifr_vrf>0</vifr_vrf>
            <vifr_mac>de:ad:be:ef:00:02</vifr_mac>
            <vifr_mtu>2514</vifr_mtu>
	    <vifr_flags>0</vifr_flags>
        </vr_interface_req>
        <return>0</return>
    </message>
     <message>
        <vr_interface_req>
            <h_op>Add</h_op>
            <vifr_type>3</vifr_type>
            <vifr_idx>2</vifr_idx>
            <vifr_transport>2</vifr_transport>
            <vifr_name>2</vifr_name>
            <vifr_vrf>0</vifr_vrf>
            <vifr_mac>de:ad:be:ef:00:01</vifr_mac>
            <vifr_mtu>2514</vifr_mtu>
	    <vifr_flags>0</vifr_flags>
        </vr_interface_req>
        <return>0</return>
    </message>
    <message>
        <vr_nexthop_req>
            <h_op>Add</h_op>
            <nhr_type>3</nhr_type>
            <nhr_id>12</nhr_id>
            <nhr_family>2</nhr_family>
            <nhr_encap_oif_id>2</nhr_encap_oif_id>
            <nhr_encap>de:ad:be:ef:00:01:de:ad:be:ef:00:02:08:00</nhr_encap>
            <nhr_tun_sip>33685761</nhr_tun_sip>
            <nhr_tun_dip>16843266</nhr_tun_dip>
            <nhr_vrf>0</nhr_vrf>
            <nhr_flags>65</nhr_flags>
        </vr_nexthop_req>
        <return>0</return>
    </message>
    <message>
        <vr_route_req>
            <h_op>Add</h_op>
            <rtr_family>2</rtr_family>
            <rtr_nh_id>12</rtr_nh_id>
            <rtr_label_flags>1</rtr_label_flags>
            <rtr_vrf_id>0</rtr_vrf_id>
            <rtr_prefix>2:2:2:2</rtr_prefix>
            <rtr_prefix_len>32</rtr_prefix_len>
            <rtr_label>48</rtr_label>
        </vr_route_req>
        <return>0</return>
    </message>
    <message>
        <vr_nexthop_req>
            <h_op>Add</h_op>
            <nhr_type>8</nhr_type>
            <nhr_id>13</nhr_id>
            <nhr_family>0</nhr_family>
            <nhr_vrf>0</nhr_vrf>
            <nhr_flags>1</nhr_flags>
        </vr_nexthop_req>
        <return>0</return>
    </message>
    <message>
        <vr_route_req>
            <h_op>Add</h_op>
            <rtr_family>7</rtr_family>
            <rtr_nh_id>13</rtr_nh_id>
            <rtr_label_flags>0</rtr_label_flags>
            <rtr_mac>de:ad:be:ef:00:01</rtr_mac>
            <rtr_vrf_id>0</rtr_vrf_id>
        </vr_route_req>
        <return>0</return>
    </message>
    <packet>
        <pcap_input_file>../../../pcaps/mplsoudp_routing_src.pcap</pcap_input_file>
        <pcap_expected_file>../../../pcaps/mplsoudp_routing_dest.pcap</pcap_expected_file>
        <tx_interface>
            <vif_index>1</vif_index>
        </tx_interface>
        <rx_interface>
            <vif_index>2</vif_index>
        </rx_interface>
    </packet>

</test>

